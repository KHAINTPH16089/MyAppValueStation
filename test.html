<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Segmented Progress Bar</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .progress-segment {
            background-color: #9b59b6; /* Default segment color */
            height: 30px;
            margin-right: 2px;
            display: inline-block;
            border-radius: 4px;
            width: 20px;
        }

        .progress-label {
            color: #fff;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-dark text-center py-5">
    <div class="progress progress-vertical"
     style="border: solid 1px #484848; width: 30px; height: 200px; border-radius: 15px; box-shadow: 2px 2px #0c0c0c; position: relative;">

    <!-- Các mốc màu -->
    <div style="flex: 0 0 5%; background-color: #660000;"></div>  <!-- 0 - 5mm -->
    <div style="flex: 0 0 5%; background-color: #ff3333;"></div>  <!-- 5 - 10mm -->
    <div style="flex: 0 0 5%; background-color: #ff9999;"></div>  <!-- 10 - 15mm -->
    <div style="flex: 0 0 5%; background-color: #994c00;"></div>  <!-- 15 - 20mm -->
    <div style="flex: 0 0 5%; background-color: #ff8000;"></div>  <!-- 20 - 25mm -->
    <div style="flex: 0 0 5%; background-color: #ffb266;"></div>  <!-- 25 - 30mm -->
    <div style="flex: 0 0 5%; background-color: #ffff00;"></div>  <!-- 30 - 35mm -->
    <div style="flex: 0 0 5%; background-color: #ffffa6;"></div>  <!-- 35 - 40mm -->
    <div style="flex: 0 0 5%; background-color: #bfe0ff;"></div>  <!-- 40 - 45mm -->
    <div style="flex: 0 0 5%; background-color: #7fc1ff;"></div>  <!-- 45 - 50mm -->
    <div style="flex: 0 0 5%; background-color: #0084ff;"></div>  <!-- 50 - 55mm -->
    <div style="flex: 0 0 5%; background-color: #b2ff66;"></div>  <!-- 55 - 60mm -->
    <div style="flex: 0 0 5%; background-color: #66cc00;"></div>  <!-- 60 - 65mm -->
    <div style="flex: 0 0 5%; background-color: #006600;"></div>  <!-- 65 - 70mm -->
    <div style="flex: 0 0 5%; background-color: #00ffff;"></div>  <!-- 70 - 75mm -->
    <div style="flex: 0 0 5%; background-color: #009999;"></div>  <!-- 75 - 80mm -->
    <div style="flex: 0 0 5%; background-color: #9f55e4;"></div>  <!-- 80 - 90mm -->
    <div style="flex: 0 0 5%; background-color: #a00ba0;"></div>  <!-- 90 - 100mm -->

    <!-- Thanh tiến trình -->
    <div id="rain-bar" class="progress-bar" role="progressbar" style="position: absolute; bottom: 0; left: 0; right: 0; height: 70%; background-color: rgba(0, 0, 0, 0.5);" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">
        <span style="font-size: 12px; color: white; display: block; text-align: center;">70mm</span>
    </div>
</div>





    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Function to update progress bar color based on percentage
        function updateProgressBar(percentage) {
            const segments = document.querySelectorAll('.progress-segment');
            const totalSegments = segments.length;
            const filledSegments = Math.floor((percentage / 100) * totalSegments);

            segments.forEach((segment, index) => {
                if (index < filledSegments) {
                    segment.style.backgroundColor = getColorForSegment(index, filledSegments);
                } else {
                    segment.style.backgroundColor = '#9b59b6'; // Default color for unfilled segments
                }
            });
        }

        // Function to determine color for each segment based on its index
        function getColorForSegment(index, filledSegments) {
            const colors = [
                '#2ecc71', // Green
                '#f1c40f', // Yellow
                '#e67e22', // Orange
                '#e74c3c', // Red
                '#8e44ad', // Purple
                '#3498db', // Blue
            ];
            return colors[index % colors.length]; // Cycle through colors
        }

        // Example usage
        updateProgressBar(50); // Update this percentage to test
    </script>
</body>
</html>
